{% extends "govuk-prototype-kit/layouts/unbranded.html" %}

{% block pageTitle %}
{{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block header %}
{% include "includes/header-mobile.njk" %}
{% endblock %}

{% block content %}

<body class="govuk-template__body   pillar--none">

    <div class="govuk-width-container">


        <div class="govuk-breadcrumbs">
            <ol class="govuk-breadcrumbs__list">
                <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="/">Home</a></li>
                <li class="govuk-breadcrumbs__list-item" aria-current="page">Events</li>
            </ol>
        </div>

        <main id="main-content" role="main" class="govuk-main-wrapper govuk-main-wrapper--tight">

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds page-introduction">
                    <h1 class="govuk-heading-xl page-title page-title--tight"
                        style="font-family: 'Source Sans Pro', sans-serif;">Events</h1>
                    <p class="govuk-body-l" style="font-family: 'Source Sans Pro', sans-serif;">Take a look at our
                        upcoming events. You can filter them by category or
                        sector. Click on the event to see more details and how to register to attend.</p>
                </div>
            </div>

            <p class="visuallyhidden">This is a page with JS</p>

            <div class="govuk-grid-row events-page-listing">
                <div class="govuk-grid-column-one-quarter">

                    <form action="/events" method="GET">
                        <div class="govuk-grid-row">
                            <div class="govuk-grid-column-one-half">
                                <h2 class="govuk-heading-m">Filter events</h2>
                            </div>
                            <div class="govuk-grid-column-one-half" style="text-align:right;">
                                <a href=/events class="govuk-link"> Clear filters </a>
                            </div>
                        </div>

                        <!-- Filter button hidden until we have the JS version 
                        <button class="govuk-button" data-module="govuk-button" v-show="!javascriptVersion"> Filter
                        </button>
                        -->

                        <fieldset class="govuk-fieldset" aria-describedby="filter_audience_tag">
                            <div class="govuk-accordion ccs-accordion ccs-accordion--clean"
                                data-module="govuk-accordion" id="filter_audience_tag">


                                <div
                                    class="govuk-accordion__section ccs-accordion__section--clean govuk-form-group govuk-form-group--enclosure ccs-form-group--enclosure--tight govuk-accordion__section">
                                    <div class="govuk-accordion__section-header">
                                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                            <h2 class="govuk-accordion__section-heading">
                                                <span
                                                    class="no-top-line govuk-accordion__section-button ccs-accordion__section-button"
                                                    id="accordion-for-audience-tag">
                                                    Event audience
                                                </span>
                                            </h2>
                                        </legend>
                                    </div>

                                    <div id="filter_audience_tag-content-1" role="region"
                                        class="govuk-accordion__section-content"
                                        aria-labelledby="accordion-for-audience-tag">
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData(null,null) v-model="checkedEventAudience"
                                                name="allAudience" value="allAudience"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="allAudience" type="checkbox" checked>
                                            <label class="govuk-label govuk-checkboxes__label" for="allAudience">
                                                View all
                                            </label>
                                        </div>

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("148+buyer",null)
                                                v-model="checkedEventAudience" name="audience_tag[]" value="148"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="148+buyer" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="148+buyer">
                                                Buyer
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("149+supplier",null)
                                                v-model="checkedEventAudience" name="audience_tag[]" value="149"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="149+supplier" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="149+supplier">
                                                Supplier
                                            </label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="govuk-fieldset" aria-describedby="filter_events">
                            <div class="govuk-accordion ccs-accordion ccs-accordion--clean"
                                data-module="govuk-accordion" id="filter_events">


                                <div
                                    class="govuk-accordion__section ccs-accordion__section--clean govuk-form-group govuk-form-group--enclosure ccs-form-group--enclosure--tight govuk-accordion__section">
                                    <div class="govuk-accordion__section-header">
                                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                            <h2 class="govuk-accordion__section-heading">
                                                <span
                                                    class="no-top-line govuk-accordion__section-button ccs-accordion__section-button"
                                                    id="accordion-for-event-type">
                                                    Event type
                                                </span>
                                            </h2>
                                        </legend>
                                    </div>

                                    <div id="filter_events-content-1" role="region"
                                        class="govuk-accordion__section-content"
                                        aria-labelledby="accordion-for-event-type">
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData(null,null) v-model="checkedEventType"
                                                name="allType" value="allType"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="allType" type="checkbox" checked>
                                            <label class="govuk-label govuk-checkboxes__label" for="allType">
                                                View all
                                            </label>
                                        </div>

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("183+aggregation",null)
                                                v-model="checkedEventType" name="event_type[]" value="183"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="183+aggregation" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="183+aggregation">
                                                Aggregation
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("184+community-of-practice",null)
                                                v-model="checkedEventType" name="event_type[]" value="184"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="184+community-of-practice" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="184+community-of-practice">
                                                Community of practice
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("185+conference-and-exhibition",null)
                                                v-model="checkedEventType" name="event_type[]" value="185"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="185+conference-and-exhibition" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="185+conference-and-exhibition">
                                                Conference and exhibition
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("186+engagement",null)
                                                v-model="checkedEventType" name="event_type[]" value="186"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="186+engagement" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="186+engagement">
                                                Engagement
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("187+live-webinar",null)
                                                v-model="checkedEventType" name="event_type[]" value="187"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="187+live-webinar" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="187+live-webinar">
                                                Live webinar
                                            </label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="govuk-fieldset" aria-describedby="products-services-accordion">
                            <div class="govuk-accordion ccs-accordion ccs-accordion--clean"
                                data-module="govuk-accordion" id="products-services-accordion">


                                <div
                                    class="govuk-accordion__section ccs-accordion__section--clean govuk-form-group govuk-form-group--enclosure ccs-form-group--enclosure--tight">
                                    <div class="govuk-accordion__section-header">
                                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                            <h2 class="govuk-accordion__section-heading">
                                                <span
                                                    class="no-top-line govuk-accordion__section-button ccs-accordion__section-button"
                                                    id="products-services-accordion-heading">
                                                    Products and services
                                                </span>
                                            </h2>
                                        </legend>
                                    </div>

                                    <div id="products-services-accordion-content-1" role="region"
                                        class="govuk-accordion__section-content"
                                        aria-labelledby="products-services-accordion-heading">

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData(null,null) v-model="checkedProductsServices"
                                                name="allPS" value="allPS"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="allPS" type="checkbox" checked>
                                            <label class="govuk-label govuk-checkboxes__label" for="allPS">
                                                View all
                                            </label>
                                        </div>

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("118+technology",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="118"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="118+technology" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="118+technology">
                                                Technology
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("119+estates",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="119"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="119+estates" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="119+estates">
                                                Estates
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("121+corporate",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="121"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="121+corporate" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="121+corporate">
                                                Corporate
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("123+professional-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="123"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="123+professional-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="123+professional-services">
                                                Professional services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("125+construction",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="125"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="125+construction" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="125+construction">
                                                Construction
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("126+energy",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="126"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="126+energy" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="126+energy">
                                                Energy
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("130+network-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="130"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="130+network-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="130+network-services">
                                                Network services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("132+technology-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="132"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="132+technology-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="132+technology-services">
                                                Technology services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("134+financial-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="134"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="134+financial-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="134+financial-services">
                                                Financial services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("135+fleet",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="135"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="135+fleet" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="135+fleet">
                                                Fleet
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("136+travel",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="136"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="136+travel" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="136+travel">
                                                Travel, accommodation and venues
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("157+software-and-hardware",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="157"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="157+software-and-hardware" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="157+software-and-hardware">
                                                Software and hardware
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("164+cnz",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="164"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="164+cnz" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="164+cnz">
                                                Carbon net zero
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("166+aggregation",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="166"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="166+aggregation" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="166+aggregation">
                                                Aggregation
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("172+social-value",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="172"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="172+social-value" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="172+social-value">
                                                Social value
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("179+cloud-and-hosting",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="179"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="179+cloud-and-hosting" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="179+cloud-and-hosting">
                                                Cloud and hosting
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("181+transforming-public-procurement",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="181"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="181+transforming-public-procurement" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="181+transforming-public-procurement">
                                                Transforming Public Procurement
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("189+digital-capability-and-delivery",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="189"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="189+digital-capability-and-delivery" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="189+digital-capability-and-delivery">
                                                Digital capability and delivery
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("190+estates-support-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="190"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="190+estates-support-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="190+estates-support-services">
                                                Estates support services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("191+facilities-management",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="191"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="191+facilities-management" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="191+facilities-management">
                                                Facilities management
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("192+hr-and-workforce",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="192"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="192+hr-and-workforce" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="192+hr-and-workforce">
                                                HR and workforce
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("193+outsourced-services",null)
                                                v-model="checkedProductsServices" name="product_service[]" value="193"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="193+outsourced-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="193+outsourced-services">
                                                Outsourced services
                                            </label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="govuk-fieldset" aria-describedby="sectors-accordion">

                            <div class="govuk-accordion ccs-accordion ccs-accordion--clean"
                                data-module="govuk-accordion" id="sectors-accordion">


                                <div
                                    class="govuk-accordion__section ccs-accordion__section--clean govuk-form-group govuk-form-group--enclosure ccs-form-group--enclosure--tight">
                                    <div class="govuk-accordion__section-header">
                                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                            <h3 class="govuk-accordion__section-heading">
                                                <span
                                                    class="no-top-line govuk-accordion__section-button ccs-accordion__section-button"
                                                    id="sectors-accordion-heading">
                                                    Sectors
                                                </span>
                                            </h3>
                                        </legend>
                                    </div>
                                    <div id="sectors-accordion-content-1" role="region"
                                        class="govuk-accordion__section-content"
                                        aria-labelledby="sectors-accordion-heading">

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData(null,null) v-model="checkedSectors"
                                                name="allSectors" value="allSectors"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="allSectors" type="checkbox" checked>
                                            <label class="govuk-label govuk-checkboxes__label" for="allSectors">
                                                View all
                                            </label>
                                        </div>

                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("111+charities",null)
                                                v-model="checkedSectors" name="sector[]" value="111"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="111+charities" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="111+charities">
                                                Charities
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("112+health",null) v-model="checkedSectors"
                                                name="sector[]" value="112"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="112+health" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="112+health">
                                                Health
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("113+housing-associations",null)
                                                v-model="checkedSectors" name="sector[]" value="113"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="113+housing-associations" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="113+housing-associations">
                                                Housing associations
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("114+local-government",null)
                                                v-model="checkedSectors" name="sector[]" value="114"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="114+local-government" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="114+local-government">
                                                Local government
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("115+police-emergency-services",null)
                                                v-model="checkedSectors" name="sector[]" value="115"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="115+police-emergency-services" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="115+police-emergency-services">
                                                Police and emergency services
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("116+schools-academies",null)
                                                v-model="checkedSectors" name="sector[]" value="116"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="116+schools-academies" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="116+schools-academies">
                                                Schools and academies
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("117+universities-colleges",null)
                                                v-model="checkedSectors" name="sector[]" value="117"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="117+universities-colleges" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="117+universities-colleges">
                                                Universities and colleges
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("133+devolved",null)
                                                v-model="checkedSectors" name="sector[]" value="133"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="133+devolved" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="133+devolved">
                                                Devolved
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("150+central-government",null)
                                                v-model="checkedSectors" name="sector[]" value="150"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="150+central-government" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label"
                                                for="150+central-government">
                                                Central government
                                            </label>
                                        </div>
                                        <div class="govuk-checkboxes__item govuk-checkboxes__item--small">
                                            <input v-on:change=fetchAPIData("170+supplier",null)
                                                v-model="checkedSectors" name="sector[]" value="170"
                                                class="govuk-checkboxes__input govuk-checkboxes__input--small"
                                                id="170+supplier" type="checkbox">
                                            <label class="govuk-label govuk-checkboxes__label" for="170+supplier">
                                                Supplier
                                            </label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <!-- hidden filter button 
                        <button class="govuk-button" data-module="govuk-button" v-show="!javascriptVersion"> Filter
                        </button>
                        -->

                        <div class="apollo-enclosure" style="background-color: #9B1A47; color: #ffffff;">
                            <h2 class="aside__heading">Help us make this service better for you</h2>
                            <p> <a class="govuk-link" style="color: #ffffff; font-weight: 600;" href="/survey">Give
                                    feedback on how we can improve this service.
                                </a></p>
                        </div>
                    </form>
                </div>
                <div class="govuk-grid-column-three-quarters events-list-container">
                    <div v-if="responseAvailable" class="hideWithoutJS govuk-visually-hidden">
                        <h2 class="govuk-heading-m" v-if="totalResults == 1"> {[totalResults]} event found</h2>
                        <h2 class="govuk-heading-m" v-else> {[totalResults]} event(s) found</h2>

                        <ol class="events-list">
                            <li class="event-list__item" v-show="javascriptVersion" v-for="result in results">
                                <picture>
                                    <a v-if=result.imageSet class="event-list__image" aria-hidden="true">
                                        <img :src="result.imageURL" :alt="result.altText" role="presentation" class=""
                                            loading="lazy" />
                                    </a>
                                </picture>

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a :href="result.eventURL" v-html="result.title.rendered"></a>
                                    </h3>

                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li v-if="result.startDate == result.endDate"><strong>Date:</strong>
                                            {[result.startDate]} </li>
                                        <template v-else>
                                            <li><strong>Start Date:</strong> {[result.startDate]} </li>
                                            <li><strong>End Date:</strong> {[result.endDate]} </li>
                                        </template>
                                        <li><strong>Type:</strong> {[result.event_type]}</li>
                                    </ul>
                                </div>
                            </li>
                        </ol>

                        <results-pagination :total-results="totalResults" :number-of-pages="numberOfPages"
                            :current-page="currentPage" v-on:update-page="updatePageValue($event)"></results-pagination>


                    </div>
                    <div v-else-if="responseAvailable === false" class="hideWithoutJS govuk-visually-hidden">
                        <p>Loading...</p>
                    </div>
                    <div v-if="emptyResult" class="hideWithoutJS govuk-visually-hidden">
                        <p>There are no matching results.</p>
                    </div>

                    <div v-show="!javascriptVersion">
                        <h2 class="govuk-heading-m">31 event(s) found</h2>

                        <ol class="events-list">
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/ccs-home/event-1">Event: Interchange UK</a>
                                    </h3>

                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Start Date:</strong> 4 March 2025</li>
                                        <li><strong>End Date:</strong> 5 March 2025</li>
                                        <li><strong>Type:</strong> Conference and exhibition</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/events/67739/webinar-g-cloud-14--what-can-i-buy-and-how-can-i-buy-it">Webinar:
                                            G-Cloud 14 – what can I buy and how can I buy it?</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 5 March 2025</li>
                                        <li><strong>Type:</strong> Live webinar</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/events/71319/ccs-technology-forum">CCS Technology Forum</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 6 March 2025</li>
                                        <li><strong>Type:</strong> Conference and exhibition</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/events/73521/engagement-housing-category-customer-forum">Engagement:
                                            Housing Category Customer Forum</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 11 March 2025</li>
                                        <li><strong>Type:</strong> Engagement</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/events/69363/webinar-supplier-showcase-8211-innovation-038-ai">Webinar:
                                            Supplier Showcase &#8211; Innovation &#038; AI</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 12 March 2025</li>
                                        <li><strong>Type:</strong> Live webinar</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a
                                            href="/events/71706/legal-panel-for-public-sector-rm6374-supplier-engagement">Legal
                                            Panel for Public Sector RM6374 Supplier Engagement</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 19 March 2025</li>
                                        <li><strong>Type:</strong> Engagement</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a
                                            href="/events/73770/webinar-unlock-public-sector-artificial-intelligence-opportunities-8211-smevcse">Webinar:
                                            Unlock Public Sector Artificial Intelligence Opportunities &#8211;
                                            SME/VCSE</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 19 March 2025</li>
                                        <li><strong>Type:</strong> Live webinar</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a
                                            href="/events/71614/technology-sme-meet-the-buyer-forum-8211-unlocking-public-procurement-opportunities">Technology
                                            SME Meet the Buyer Forum &#8211; Unlocking Public Procurement
                                            Opportunities</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 20 March 2025</li>
                                        <li><strong>Type:</strong> Conference and exhibition</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a href="/events/71069/event-dprte-2025">Event: DPRTE 2025</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Start Date:</strong> 26 March 2025</li>
                                        <li><strong>End Date:</strong> 27 March 2025</li>
                                        <li><strong>Type:</strong> Conference and exhibition</li>
                                    </ul>
                                </div>

                            </li>
                            <li class="event-list__item">

                                <div class="event-list__details">
                                    <h3 class="event-list__title govuk-!-margin-bottom-2 ">
                                        <a
                                            href="/events/71718/legal-panel-for-public-sector-rm6374-supplier-engagement-event">Legal
                                            Panel for Public Sector RM6374 Supplier Engagement Event</a>
                                    </h3>


                                    <ul class="event-list__meta list--inline govuk-body-s govuk-!-margin-bottom-2">
                                        <li><strong>Date:</strong> 1 April 2025</li>
                                        <li><strong>Type:</strong> Engagement</li>
                                    </ul>
                                </div>

                            </li>
                        </ol>



                        <div class="events-pagination">
                            <ul class="list--inline pagination govuk-body" aria-label="Pagination">





                                <li class="pagination__item active"><span class="visuallyhidden">Page </span>1
                                </li>
                                <li class="pagination__item">
                                    <a href="/events/2"><span class="visuallyhidden">Page </span>2
                                    </a>
                                </li>
                                <li class="pagination__item">
                                    <a href="/events/3"><span class="visuallyhidden">Page </span>3
                                    </a>
                                </li>
                                <li class="pagination__item">
                                    <a href="/events/4"><span class="visuallyhidden">Page </span>4
                                    </a>
                                </li>



                                <li class="pagination__item pagination__item--next">
                                    <a href="/events/2" rel="next">
                                        <span>Next</span> <span class="visuallyhidden">page</span>
                                        <span class="icon">
                                            <svg width="17" height="14" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M10.1 0L8.7 1.4 13 5.7H0v2h12.9l-4.2 4 1.4 1.4 6.7-6.4z"
                                                    fill="#007194" fill-rule="evenodd" />
                                            </svg>
                                        </span> </a>
                                </li>
                            </ul>

                        </div>
                    </div>

                </div>
            </div>

        </main>

        <script src="/assets/scripts/libraries/vue.min.js?v=1"></script>

        <script>
            pushToDataLayer({ 'event': 'page_view', 'page_referrer': window.location.href, 'page_type': 'event' });

            /**
            * Function to test if the browser supports ES6 template literals
            */
            function supportsLiterals() {
                try {
                    return eval("''===``");
                }
                catch (e) {
                    return false;
                }
            }

            if (!('Promise' in window) || !supportsLiterals() || !window.fetch) {
                throw new Error("Your browser doesn't support the necessary JavaScript functions to use the enhanced search and has been served a non-JavaScript version");
            }

            var apiBaseUrl = 'https://www.crowncommercial.gov.uk/api/';
            var appBaseUrl = 'https://www.crowncommercial.gov.uk';
            var pageNumber = 1;
            var checkedEventType = [];
            var checkedEventAudience = [];
            var checkedProductsServices = [];
            var checkedSectors = [];





            Vue.component('results-pagination', {
                delimiters: ['{[', ']}'],
                props: {
                    currentPage: Number,
                    totalResults: Number,
                    numberOfPages: Number,
                },
                computed: {
                    nextPage: function () {
                        if (this.currentPage == this.numberOfPages) {
                            return this.currentPage;
                        }
                        return this.currentPage + 1;
                    },
                    previousPage: function () {
                        if (this.currentPage == 1) {
                            return this.currentPage;
                        }
                        return this.currentPage - 1;
                    },
                    paginationStartNumber: function () {
                        // start page defaults to 2 (second page) because the
                        // first page link is always output by default
                        var linksStartPage = 1;

                        // if the start page is at the beginning of the pagination
                        // then account for this
                        if ((this.currentPage - 2) < 2) {
                            linksStartPage = 2;
                        } else {
                            // otherwise the start page is equal to the current
                            // page minus 2, this means that the pagination should
                            // have a couple of links either side of the current
                            // page, e.g.   2 3 [4] 5 6
                            linksStartPage = this.currentPage - 2;
                        }

                        // if the start page is very close to the last page, then
                        // account for this
                        if ((this.currentPage + 2) > this.numberOfPages) {
                            linksStartPage = linksStartPage - 2;
                        }

                        if (linksStartPage <= 1) {
                            linksStartPage = 2;
                        }

                        return linksStartPage;
                    },
                    paginationEndNumber: function () {
                        var linksEndPage = this.paginationStartNumber + 4;

                        // if there aren't more pages than the number we
                        // want to show by minimum, then the end page is just equal
                        // to the final result page

                        if ((linksEndPage >= this.numberOfPages)) {
                            // minus 1 because the last page is always output
                            linksEndPage = this.numberOfPages - 1;
                        }

                        if (this.numberOfPages == 1) {
                            linksEndPage = 1;
                        }

                        return linksEndPage;
                    }
                },
                methods: {
                    updatePageNumber: function (event, newPage) {
                        event.preventDefault();
                        this.$emit('update-page', newPage);
                        search.fetchAPIData(null, newPage)
                    },
                    range: function (start, end) {
                        return Array(end - start + 1).fill().map(function (_, idx) {
                            return start + idx;
                        });
                    }
                },
                template:
                    `
                        <div class="events-pagination">
                            <ul class="list--inline pagination govuk-body" role="list" aria-label="Pagination" v-if="numberOfPages > 0">
                                <li class="pagination__item pagination__item--previous" v-if="currentPage != 1">
                                    <a href="#" rel="previous" v-on:click="updatePageNumber($event, previousPage)">
                                        <span class="icon">
                                            <svg width="17" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M6.7 0l1.4 1.4-4.3 4.3h13v2H3.9l4.2 4-1.4 1.4L0 6.7z" fill="#007194" fill-rule="evenodd"></path></svg>
                                        </span>
                                        <span>Previous</span> <span class="visuallyhidden">page</span>
                                    </a>
                                </li>
    
                                <li class="pagination__item">
                                    <span v-if="currentPage == 1"><span class="visuallyhidden">Page </span>1</span>
                                    <a v-else href="#" v-on:click="updatePageNumber($event, 1)"><span class="visuallyhidden">Page </span>1</a>
                                </li>
    
                                <li class="pagination__item" v-if="paginationStartNumber > 2">…</li>
    
                                <li class="pagination__item" v-for="page in range(paginationStartNumber, paginationEndNumber)" v-if="numberOfPages > 1">
                                    <span v-if="page == currentPage"><span class="visuallyhidden">Page </span>{[ page ]}</span>
                                    <a v-else href="#" v-on:click="updatePageNumber($event, page)"><span class="visuallyhidden">Page </span>{[ page ]}</a>
                                </li>
    
                                <li class="pagination__item" v-if="(paginationEndNumber + 1) < numberOfPages">…</li>
    
                                <li class="pagination__item" v-if="numberOfPages > 1">
                                    <span v-if="currentPage == numberOfPages"><span class="visuallyhidden">Page </span>{[ numberOfPages ]}</span>
                                    <a v-else href="#" v-on:click="updatePageNumber($event, numberOfPages)"><span class="visuallyhidden">Page </span>{[ numberOfPages ]}</a>
                                </li>
    
                                <li class="pagination__item pagination__item--next" v-if="currentPage != numberOfPages">
                                    <a href="#" rel="next" v-on:click="updatePageNumber($event, nextPage)">
                                        <span>Next</span> <span class="visuallyhidden">page</span>
                                        <span class="icon">
                                            <svg width="17" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M10.1 0L8.7 1.4 13 5.7H0v2h12.9l-4.2 4 1.4 1.4 6.7-6.4z" fill="#007194" fill-rule="evenodd"></path></svg>
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        `
            });


            var search = new Vue({
                delimiters: ['{[', ']}'],
                el: '#main-content',
                mounted: function () {
                    this.filtering(null, "type");
                    this.filtering(null, "PS");
                    this.filtering(null, "audience");
                    this.filtering(null, "sectors");
                },
                data: {
                    javascriptVersion: true,
                    results: "",
                    responseAvailable: null,
                    emptyResult: false,
                    apiURL: apiBaseUrl + "events?",
                    checkedEventType: checkedEventType,
                    checkedProductsServices: checkedProductsServices,
                    checkedEventAudience: checkedEventAudience,
                    checkedSectors: checkedSectors,
                    currentPage: pageNumber,
                    numberOfPages: Number,
                    totalResults: Number,

                    popstateLoad: false
                },
                created: function () {
                    const hideWithOutJS = document.querySelectorAll('.hideWithoutJS');

                    hideWithOutJS.forEach(card => {
                        if (card.classList.contains('govuk-visually-hidden')) {
                            card.classList.remove('govuk-visually-hidden');
                        }
                    });

                    // unfortunately we have to update the results when we instantiate
                    // the Vue app so it hooks in all the correct event handlers etc.
                    this.fetchAPIData(null, this.currentPage);

                    // setup popstate event listener for History API
                    this.setupHistoryApi();
                },
                watch: {
                    searchRequestUrl: function () {

                        // if the searchRequestUrl hasn't been updated by a popstate
                        // event (back/forward button) then we push a state item to the
                        // JS History API
                        if (this.popstateLoad === false) {
                            history.pushState({
                                checkedEventType: this.checkedEventType,
                                checkedProductsServices: this.checkedProductsServices,
                                checkedEventAudience: this.checkedEventAudience,
                                checkedSectors: this.checkedSectors,
                            }, 'Events', this.frontendSearchUrl);
                        }

                        // reset the popstateLoad property to false
                        this.popstateLoad = false;
                    }
                },
                computed: {
                    frontendQueryUrl: function () {
                        var queryUrl = '/?';

                        if (this.checkedEventType.length != 0) {
                            queryUrl += '&event_type=' + this.checkedEventType.join();
                        }

                        if (this.checkedProductsServices.length != 0) {
                            queryUrl += '&products_services=' + this.checkedProductsServices.join();
                        }

                        if (this.checkedEventAudience.length != 0) {
                            queryUrl += '&audience_tag=' + this.checkedEventAudience.join();
                        }

                        if (this.checkedSectors.length != 0) {
                            queryUrl += '&sectors=' + this.checkedSectors.join();
                        }

                        if (this.currentPage) {
                            queryUrl += '&page=' + this.currentPage;
                        }

                        return queryUrl != '/?' ? queryUrl : "";

                    },
                    frontendSearchUrl: function () {
                        var searchUrl = '/events' + this.frontendQueryUrl;
                        return searchUrl;
                    }
                },
                methods: {
                    formatDate: function (dateString) {
                        date = new Date();
                        date.setDate(dateString.split('-')[0])
                        date.setMonth(dateString.split('-')[1] - 1)
                        date.setFullYear(dateString.split('-')[2])

                        const month = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][date.getMonth()];
                        return date.getDate() + ' ' + month + ' ' + date.getFullYear();
                    },
                    filtering: function (selectedIdandSlug, filtertingOption) {
                        filterArray = null
                        viewAllCheckboxID = null
                        selectedFilterFromControllerLength = null
                        paramaString = null
                        returnFilter = ""

                        switch (filtertingOption) {
                            case "type":
                                filterArray = this.checkedEventType
                                viewAllCheckboxID = "allType"
                                selectedFilterFromControllerLength = Number("5")
                                paramaString = "&event_type="
                                break;
                            case "PS":
                                filterArray = this.checkedProductsServices
                                viewAllCheckboxID = "allPS"
                                selectedFilterFromControllerLength = Number("22")
                                paramaString = "&products_services="
                                break;
                            case "audience":
                                filterArray = this.checkedEventAudience
                                viewAllCheckboxID = "allAudience"
                                selectedFilterFromControllerLength = Number("2")
                                paramaString = "&audience_tag="
                                break;
                            case "sectors":
                                filterArray = this.checkedSectors
                                viewAllCheckboxID = "allSectors"
                                selectedFilterFromControllerLength = Number("10")
                                paramaString = "&sectors="
                                break;
                            default:
                                console.log('An error occurred');
                                return
                        }

                        if (filterArray.includes(viewAllCheckboxID) || filterArray.length == 0 || filterArray.length == selectedFilterFromControllerLength) {
                            filterArray.splice(0);
                            document.getElementById(viewAllCheckboxID).checked = true;
                            document.getElementById(selectedIdandSlug) != null ? document.getElementById(selectedIdandSlug).checked = false : null
                        } else {
                            document.getElementById(viewAllCheckboxID).checked = false;
                            returnFilter = paramaString + filterArray.join()
                        }
                        return returnFilter;
                    },
                    searchRequestUrl: function (selectedIdandSlug, page) {

                        fetchURL = this.apiURL
                            + this.filtering(selectedIdandSlug, "type")
                            + this.filtering(selectedIdandSlug, "PS")
                            + this.filtering(selectedIdandSlug, "audience")
                            + this.filtering(selectedIdandSlug, "sectors");

                        fetchURL = fetchURL + "&orderby=start_datetime&order=asc&per_page=10&page=" + this.currentPage;

                        if (this.popstateLoad === false) {
                            history.pushState({
                                checkedEventType: this.checkedEventType,
                                checkedProductsServices: this.checkedProductsServices,
                                checkedEventAudience: this.checkedEventAudience,
                                checkedSectors: this.checkedSectors,
                            }, 'Events', this.frontendSearchUrl);
                        }

                        // reset the popstateLoad property to false
                        this.popstateLoad = false;

                        return fetchURL;
                    },
                    fetchAPIData: function (input, page) {
                        var self = this;
                        this.responseAvailable = false;
                        this.emptyResult = false;
                        this.currentPage = page === null ? 1 : page;

                        var requestUrl = this.searchRequestUrl(input, this.currentPage);
                        console.log(requestUrl);

                        fetch(requestUrl)
                            .then(async function (response) {
                                if (!response.ok) {
                                    throw new Error('HTTP error, status = ' + response.status);
                                }
                                return response.json();
                            })
                            .then(function (jsonResponse) {
                                self.numberOfPages = jsonResponse.meta['X-WP-TotalPages'];
                                self.totalResults = jsonResponse.meta['X-WP-Total'];
                                self.results = jsonResponse.body;

                                for (var i = 0; i < self.results.length; i++) {
                                    self.results[i].eventURL = appBaseUrl + "/events/" + self.results[i].id + "/" + self.results[i].slug;
                                    self.results[i].startDate = self.formatDate(jsonResponse.body[i].acf.start_datetime.split(' ')[0]);
                                    self.results[i].endDate = self.formatDate(jsonResponse.body[i].acf.end_datetime.split(' ')[0]);
                                    self.results[i].event_type = self.results[i].acf.event_type;

                                    self.results[i].imageSet = false;
                                    if (self.results[i].acf.featured_image_url != false) {
                                        self.results[i].imageSet = true;
                                        self.results[i].imageURL = self.results[i].acf.featured_image_url;
                                        self.results[i].altText = self.results[i].acf.alt_text;
                                    }
                                }

                                if (Object.keys(jsonResponse.body).length === 0) {
                                    self.emptyResult = true;
                                    self.responseAvailable = null;
                                } else {
                                    self.responseAvailable = true;
                                }
                            })
                            .catch(function (error) {
                                console.log('An error occurred');
                                console.log(error);
                                this.responseAvailable = false;
                            });
                    },
                    updatePageValue: function (newPageValue) {
                        this.currentPage = newPageValue;
                    },
                    setupHistoryApi: function () {
                        var self = this;
                        window.onpopstate = function (event) {
                            // set the popstate variable to true so that we can
                            // tell in other parts of the code that the state change
                            // is being caused by the back/forward button
                            self.popstateLoad = true;

                            if (event.state == null) {
                                self.checkedEventType = [];
                                self.checkedProductsServices = [];
                                self.checkedEventAudience = [];
                                self.checkedSectors = [];
                                return
                            }

                            self.checkedEventType = event.state.checkedEventType;
                            self.checkedProductsServices = event.state.checkedProductsServices;
                            self.checkedEventAudience = event.state.checkedEventAudience;
                            self.checkedSectors = event.state.checkedSectors;

                            self.fetchAPIData(null, self.currentPage);
                        }
                    },
                }
            });

        </script>
    </div>

    {% endblock %}

    {% block footer %}
    {% include "includes/footer-js-beta.njk" %}
    {% endblock %}